import random
from game_manager import *
from alphabeta import *

# Parameters
POP_SIZE = 50
MUTATION_RATE = 0.02
GENERATIONS = 10000
COEFFS_NUMBER = 20
ACTION_NUMBER = 5
FIGHT_NUMBER = 5
Win_Table = []

def base_coeff() -> float:
    return 100*random.random()

def random_action_general() -> FenixAction:
    start_choices = [(i,j) for i in range(6) for j in range(6-i)]
    start = random.choice(start_choices)
    end_choices = [(start[0]+1, start[1]), (start[0], start[1]+1), (start[0]-1, start[1]), (start[0], start[1]-1)]
    end = random.choice(end_choices)
    while (0 > end[0]) or (0 > end[1]) or (end[0] + end[1] > 5):
        end = random.choice(end_choices)
    
    return FenixAction(start, end, frozenset())

def random_action_king() -> list[FenixAction]:
    end_choices = [(i,j) for i in range(5) for j in range(5-i)]
    end = random.choice(end_choices)

    start_choices = [(end[0]+1, end[1]), (end[0], end[1]+1), (end[0]-1, end[1]), (end[0], end[1]-1)]
    start1 = random.choice(start_choices)
    while (0 > start1[0]) or (0 > start1[1]) or (start1[0]+start1[1] > 5):
        start1 = random.choice(start_choices)
    
    start2 = random.choice(start_choices)
    while (0 > start2[0]) or (0 > start2[1]) or (start2[0]+start2[1] > 5) or (start1 == start2):
        start2 = random.choice(start_choices)

    # if start1[0] < 0 or start1[1] < 0 or start2[0] < 0 or start2[1] < 0 or end[0] < 0 or end[1] < 0:
    #     print(start1, start2, end)
    
    return [FenixAction(start1, end, frozenset()), FenixAction(start2, end, frozenset())]

def is_compatible(action: FenixAction, list: list[FenixAction|None]) -> bool:
    for item in list:
        if item == None:
            continue
        if action.start == item.start or action.end == item.start or action.start == item.end or action.end == item.end:
            return False
    return True

def random_individual() -> list[HeuristicCoeffs|list[FenixAction]]:
    l = [Coeff(base_coeff(), 1-2*(i%2)) for i in range(COEFFS_NUMBER)]
    res = HeuristicCoeffs(*l)
    
    actions: list[FenixAction] = [None] * (ACTION_NUMBER-2)
    for i in range(ACTION_NUMBER-2):
        new_action = random_action_general()
        while not is_compatible(new_action, actions):
            new_action = random_action_general()
        actions[i] = new_action

    
    king_actions = random_action_king()
    while not is_compatible(king_actions[0], actions) or not is_compatible(king_actions[1], actions):
        king_actions = random_action_king()

    return [res, actions + king_actions]

def fitness(i):
    return Win_Table[i]

def select(i: list[int]):
    return max(random.sample(i, 3), key=fitness)

def crossover(parent1, parent2):
    return [HeuristicCoeffs(*[random.choice([parent1[0][i], parent2[0][i]]) for i in range(COEFFS_NUMBER)]), random.choice([parent1[1], parent2[1]])]

# Mutation: randomly change some characters
def mutate(individual) -> list[HeuristicCoeffs|list[FenixAction]]:
    coeffs = [None] * COEFFS_NUMBER
    for i in range(COEFFS_NUMBER):
        if random.random() < MUTATION_RATE:
            coeffs[i] = Coeff(base_coeff(), 1-2*(i%2))
        else:
            coeffs[i] = individual[0][i]
    
    actions = [None] * ACTION_NUMBER
    for i in range(ACTION_NUMBER-2):
        if random.random() < MUTATION_RATE:
            new_action = random_action_general()
            while not is_compatible(new_action, individual[1]):
                new_action = random_action_general()
            actions[i] = new_action
        else:
            actions[i] = individual[1][i]
    
    if random.random() < MUTATION_RATE:
        new_actions = random_action_king()
        while not is_compatible(new_actions[0], individual[1]) \
                or not is_compatible(new_actions[1], individual[1]):
            new_actions = random_action_king()
        actions[ACTION_NUMBER-2] = new_actions[0]
        actions[ACTION_NUMBER-1] = new_actions[1]
    else:
        actions[ACTION_NUMBER-2] = individual[1][ACTION_NUMBER-2]
        actions[ACTION_NUMBER-1] = individual[1][ACTION_NUMBER-1]

    return [HeuristicCoeffs(*coeffs), actions]
    

# Run it!
#[random_individual() for _ in range(POP_SIZE)]
population: list[list[HeuristicCoeffs|list[FenixAction]]] = [
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.581855888621474, dir=1), could_create_general_adv=Coeff(coeff=3.284167189829923, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=75.5170835721448, dir=1), mobile_general_adv=Coeff(coeff=98.00068506066985, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.597430607004583, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=35.73311792889634, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=81.99215746856564, dir=1), has_general_adv=Coeff(coeff=30.279753346212846, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=91.08407768639711, dir=1), could_create_king_adv=Coeff(coeff=55.36948248876007, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=23.43534373171263, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(0, 2), end=(0, 3), removed=frozenset()), FenixAction(start=(2, 3), end=(2, 2), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=80.12188716475654, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=3.024261825528385, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=29.437852171109192, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=8.579075521873714, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=60.91701798821416, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=69.63071539405139, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=50.44762336484947, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=77.14019112468155, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=69.63071539405139, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=67.32682547650873, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=16.446984531269095, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=97.40631042688923, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=55.330485542512996, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(2, 3), end=(2, 2), removed=frozenset()), FenixAction(start=(2, 1), end=(2, 2), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=61.198473670021926, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=71.61920148660549, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=23.43534373171263, dir=1), protected_king_adv=Coeff(coeff=73.86769826854255, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=30.279753346212846, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=84.57371918786062, dir=1), could_create_king_adv=Coeff(coeff=61.198473670021926, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=14.668488499554543, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=3.07708697069331, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=77.14019112468155, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(2, 1), end=(2, 2), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=8.399114769352767, dir=1), could_create_king_adv=Coeff(coeff=28.66672381552324, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=98.81428906996321, dir=-1), mobile_general=Coeff(coeff=75.5170835721448, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=81.99215746856564, dir=1), has_general_adv=Coeff(coeff=30.279753346212846, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=92.62963352591619, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=91.78566699907353, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=84.57371918786062, dir=1), could_create_king_adv=Coeff(coeff=55.36948248876007, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=94.73810891586555, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=82.57907245117096, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=72.32865621215589, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=4.117286393178466, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=67.32682547650873, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=83.56977224398634, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=95.91492250935096, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=53.63923357701682, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=13.581855888621474, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=65.14813006856673, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=77.14019112468155, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=51.77025540047897, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=29.437852171109192, dir=-1), could_create_king=Coeff(coeff=30.286929978301046, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=32.79894806536564, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=54.554196829217105, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(0, 3), end=(1, 3), removed=frozenset()), FenixAction(start=(4, 1), end=(3, 1), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 0), end=(1, 1), removed=frozenset()), FenixAction(start=(2, 1), end=(1, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=8.579075521873714, dir=-1), could_create_general=Coeff(coeff=0.34870455995132943, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=42.99595899282512, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.581855888621474, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=75.5170835721448, dir=1), mobile_general_adv=Coeff(coeff=9.972974012835733, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=44.15500730237757, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.581855888621474, dir=1), could_create_general_adv=Coeff(coeff=3.284167189829923, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=73.2224855495158, dir=-1), mobile_general=Coeff(coeff=75.5170835721448, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=16.674899145685607, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=55.36948248876007, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=55.330485542512996, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=30.286929978301046, dir=1), could_create_king_adv=Coeff(coeff=23.045070740176076, dir=-1), could_create_general=Coeff(coeff=17.597430607004583, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=94.01504298262856, dir=-1), protected_general=Coeff(coeff=32.79894806536564, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=45.15658765295123, dir=-1), mobile_general=Coeff(coeff=76.54771355413364, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=5.478812897170037, dir=1), has_general_adv=Coeff(coeff=31.826227420178512, dir=-1), has_soldier=Coeff(coeff=84.1067129543943, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=10.451647283222643, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=23.43534373171263, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=78.70420240690899, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=83.80755921693735, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=44.86822719825431, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=84.1067129543943, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=32.69295184064648, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=83.18071784651754, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=67.32682547650873, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=39.98465864889532, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=83.18071784651754, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=6.777736734475126, dir=-1), protected_king=Coeff(coeff=23.43534373171263, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=49.353569262848595, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=84.1067129543943, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=29.437852171109192, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.795532670542087, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=18.331950092771542, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=77.14019112468155, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=81.99215746856564, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=55.36948248876007, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=80.12188716475654, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=6.7115977054956755, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=87.92382145297253, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=29.437852171109192, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.795532670542087, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=91.25318695711118, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=97.40631042688923, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=35.73311792889634, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=55.330485542512996, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=49.02570372606518, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=76.8087823754936, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=67.5454092707944, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=27.20843146811436, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=32.078369148632746, dir=-1), has_token=Coeff(coeff=85.45020680996458, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=84.57371918786062, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=0.7593146916921034, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=57.07301369102359, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=27.840760853388126, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=26.89110365224099, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=29.437852171109192, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=17.597430607004583, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=8.490477715523326, dir=1), protected_king_adv=Coeff(coeff=94.01504298262856, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=76.54771355413364, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=67.32682547650873, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=16.018209544546615, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=54.62372226120063, dir=-1), mobile_general=Coeff(coeff=76.54771355413364, dir=1), mobile_general_adv=Coeff(coeff=60.424551710019834, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=82.1812244688934, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=33.702606842400094, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.581855888621474, dir=1), could_create_general_adv=Coeff(coeff=3.284167189829923, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=57.54660755432145, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=75.5170835721448, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=7.6376968523754645, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=19.535671445991753, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=65.70441279520415, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=30.283616692361125, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=55.80208704219525, dir=1), endangered_adv=Coeff(coeff=77.14019112468155, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=18.874887430839326, dir=1), has_soldier_adv=Coeff(coeff=21.711743707167408, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=95.91492250935096, dir=1), could_create_king_adv=Coeff(coeff=74.53718168242607, dir=-1), could_create_general=Coeff(coeff=13.795532670542087, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=96.72066631265544, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=27.156887495630365, dir=1), endangered_adv=Coeff(coeff=28.155754601907734, dir=-1), mobile_general=Coeff(coeff=25.24327214443114, dir=1), mobile_general_adv=Coeff(coeff=86.45325260007527, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=84.1067129543943, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=93.30778870296761, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=95.91492250935096, dir=1), could_create_king_adv=Coeff(coeff=23.045070740176076, dir=-1), could_create_general=Coeff(coeff=17.48024624673432, dir=1), could_create_general_adv=Coeff(coeff=73.18629399848655, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=90.26563523665104, dir=1), protected_general_adv=Coeff(coeff=46.50246207916735, dir=-1), endangered=Coeff(coeff=53.04020048068363, dir=1), endangered_adv=Coeff(coeff=80.27359793542891, dir=-1), mobile_general=Coeff(coeff=54.554196829217105, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(0, 3), end=(1, 3), removed=frozenset()), FenixAction(start=(1, 4), end=(0, 4), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 0), end=(1, 1), removed=frozenset()), FenixAction(start=(2, 1), end=(1, 1), removed=frozenset())]],
[HeuristicCoeffs(has_king=Coeff(coeff=39.66575897712692, dir=1), has_king_adv=Coeff(coeff=85.59443623550513, dir=-1), has_general=Coeff(coeff=96.29911199857814, dir=1), has_general_adv=Coeff(coeff=16.849241994145125, dir=-1), has_soldier=Coeff(coeff=71.78689872872485, dir=1), has_soldier_adv=Coeff(coeff=60.15051379739717, dir=-1), has_token=Coeff(coeff=78.79578596927323, dir=1), has_token_adv=Coeff(coeff=26.769807461295827, dir=-1), could_create_king=Coeff(coeff=30.286929978301046, dir=1), could_create_king_adv=Coeff(coeff=9.624691120971995, dir=-1), could_create_general=Coeff(coeff=28.025870714796554, dir=1), could_create_general_adv=Coeff(coeff=74.93814014535623, dir=-1), protected_king=Coeff(coeff=2.7883226514197945, dir=1), protected_king_adv=Coeff(coeff=98.74917431561316, dir=-1), protected_general=Coeff(coeff=32.79894806536564, dir=1), protected_general_adv=Coeff(coeff=17.933045645821956, dir=-1), endangered=Coeff(coeff=30.43047724387229, dir=1), endangered_adv=Coeff(coeff=98.81428906996321, dir=-1), mobile_general=Coeff(coeff=76.71797756626147, dir=1), mobile_general_adv=Coeff(coeff=43.15367942072743, dir=-1)), [FenixAction(start=(3, 2), end=(3, 1), removed=frozenset()), FenixAction(start=(4, 1), end=(4, 0), removed=frozenset()), FenixAction(start=(1, 4), end=(1, 3), removed=frozenset()), FenixAction(start=(0, 0), end=(0, 1), removed=frozenset()), FenixAction(start=(1, 1), end=(0, 1), removed=frozenset())]]

]
for generation in range(9,GENERATIONS):

    Win_Table = [0 for _ in population]
    p1_agents = [AlphaBetaAgent(1, population[i][0], population[i][1]) for i in range(POP_SIZE)]
    p2_agents = [AlphaBetaAgent(-1, population[i][0], population[i][1]) for i in range(POP_SIZE)]
    for i in range(POP_SIZE):

            for _ in range(FIGHT_NUMBER):
                j = random.randint(0, POP_SIZE-1)
                while i == j:
                    j = random.randint(0, POP_SIZE-1)

                win_p1, win_p2 = TextGameManager(agent_1=p1_agents[i], agent_2=p2_agents[j], display=False).play()
                if win_p1 == 1:
                    Win_Table[i] += 1

                win_p1, win_p2 = TextGameManager(agent_1=p1_agents[j], agent_2=p2_agents[i], display=False).play()
                if win_p2 == 1:
                    Win_Table[i] += 1
    
    sorted_indexes = sorted(range(POP_SIZE), key=fitness, reverse=True)
    best = population[sorted_indexes[0]]
    print(f"Gen {generation}: {best} | Fitness: {fitness(sorted_indexes[0])}")
    with open("best_individual.txt", "a") as file:
        file.write(f"Gen {generation}: {best} | Fitness: {fitness(sorted_indexes[0])}\n")
    with open("last_population.txt", "w") as file:
        for individual in population:
            file.write(str(individual) + "\n")

    next_gen = [None] * POP_SIZE
    for i in range(POP_SIZE):
        parent1 = population[select(range(POP_SIZE))]
        parent2 = population[select(range(POP_SIZE))]
        child = crossover(parent1, parent2)
        child = mutate(child)
        next_gen[i] = child
    population = next_gen

with open("best_individual.txt", "a") as file:
    file.write("\n")
